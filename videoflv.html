<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://vjs.zencdn.net/7.15.4/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.15.4/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js"></script>
    <style>
      #player-container-id {
        width: 100%;
        height: 100vh;
        background: black;
      }
    </style>
  </head>
  <body>
    <video
      id="player-container-id"
      preload="auto"
      playsinline
      webkit-playsinline
      autoplay
      onerror="errorVide"
    ></video>
    <div></div>
    <script src="https://cdn.jsdelivr.net/npm/flv.js@1.6.4/dist/flv.min.js"></script>

    <script>
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const link = urlParams.get("link");
      const txTime = urlParams.get("txTime");
      const sign = urlParams.get("sign");

      var videoElement = document.getElementById("player-container-id");

      // Check if FLV.js is supported
      if (flvjs.isSupported()) {
        // Tạo đối tượng player cho video .flv
        const flvPlayer = flvjs.createPlayer({
          type: "flv",
          url: location.href.split("link=")[1], // URL đến video .flv của bạn
        });

        // Đính kèm FLV.js player vào phần tử video của Video.js
        flvPlayer.attachMediaElement(videoElement);
        flvPlayer.load();
        flvPlayer.play();
        videoElement.requestFullscreen();
      } else {
        console.error("FLV.js is not supported in this browser.");
      }
    </script>
  </body>
</html>
